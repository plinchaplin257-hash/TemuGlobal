<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mine</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="profile">
    <div class="info">
        <div class="box" id="accountId">ID AKUN : 955123</div>
        <div class="box" id="accountSaldo">SALDO AKUN : Rp 0</div>
    </div>

    <div class="avatar-box">
        <div class="avatar">
            <img id="avatarImg">
        </div>
        <div class="change-avatar" onclick="pickAvatar()">ganti avatar</div>
        <input type="file" id="fileInput" accept="image/*" hidden>
    </div>
</div>

<div class="menu">
    <button class="menu-btn" onclick="go('akun.html')">PENGATURAN AKUN</button>
    <button class="menu-btn" onclick="go('privasi.html')">PENGATURAN PRIVASI</button>
    <button class="menu-btn" onclick="go('bank.html')">TAUTKAN AKUN BANK</button>
    <button class="menu-btn" onclick="go('penarikan.html')">PENARIKAN</button>
    <button class="menu-btn" onclick="go('deposit.html')">DEPOSIT</button>

    <button class="menu-btn disabled">SKOR POINT : 100</button>

    <button class="menu-btn" onclick="go('catatan-penarikan.html')">CATATAN PENARIKAN</button>
    <button class="menu-btn" onclick="go('catatan-deposit.html')">CATATAN DEPOSIT</button>
    <button class="menu-btn" onclick="go('verifikasi.html')">VERIFIKASI AKUN</button>
    <button class="menu-btn" onclick="go('keamanan.html')">PENGATURAN KEAMANAN</button>
    <button class="menu-btn" onclick="logout()">KELUAR</button>
</div>

<div class="nav">
    <a href="home.html">HOME</a>
    <a href="order.html">ORDER</a>
    <a href="mine.html" class="active">MINE</a>
</div>

<script>
// ================= AVATAR =================
const img = document.getElementById("avatarImg");
const input = document.getElementById("fileInput");
const savedAvatar = localStorage.getItem("avatar");
if(savedAvatar) img.src = savedAvatar;

function pickAvatar(){
    input.click();
}

input.onchange = ()=>{
    const file = input.files[0];
    if(file){
        const reader = new FileReader();
        reader.onload = e=>{
            img.src = e.target.result;
            localStorage.setItem("avatar", e.target.result);
        };
        reader.readAsDataURL(file);
    }
};

// ================= SALDO =================
const saldoBox = document.getElementById("accountSaldo");
let saldo = Number(localStorage.getItem('saldo')||1000000);
saldoBox.innerText = `SALDO AKUN : Rp ${saldo.toLocaleString('id-ID')}`;

// ================= NAVIGASI =================
function go(page){
    window.location.href = page;
}

// ================= LOGOUT =================
function logout(){
    localStorage.removeItem("avatar");
    // localStorage.removeItem("isLoggedIn"); // jika pakai status login
    window.location.href = "home.html";
}
</script>

</body>
</html>
